(this["webpackJsonpckmobiles-frontend"]=this["webpackJsonpckmobiles-frontend"]||[]).push([[0],{117:function(e,n,t){e.exports=t.p+"static/media/logo.f17186cf.jpg"},119:function(e,n,t){e.exports=t.p+"static/media/sign.994ae77a.png"},120:function(e,n,t){e.exports=t.p+"static/media/signcv.85cd70e2.png"},161:function(e,n,t){},207:function(e,n,t){e.exports=t(342)},212:function(e,n,t){},335:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},342:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(18),c=t.n(l);t(212),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(42),o=t(25),u=t(11),m=t(4),d=t(171),s=t.n(d),f=["avreddy1996@gmail.com","meegadaharinath@gmail.com"],p=t(5),g=t(348);function b(){var e=Object(m.a)(["\nmargin: 30px 0 10px 0;\ntext-align:center;\nfont-size: 24px;\nfont-weight: 600;\n"]);return b=function(){return e},e}function E(){var e=Object(m.a)(["\nwidth: 100%;\nheight: 100vh;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nflex-direction: column;\n"]);return E=function(){return e},e}var v=p.a.div(E()),h=p.a.div(b());var x=function(){var e=Object(a.useState)(""),n=Object(u.a)(e,2),t=n[0],l=n[1],c=Object(a.useState)(!1),m=Object(u.a)(c,2),d=m[0],p=m[1],b=Object(a.useState)(!0),E=Object(u.a)(b,2),x=E[0],O=E[1],j=function(e){if(console.log(e),e.profileObj)try{"object"===typeof f?-1!==f.indexOf(e.profileObj.email)?(localStorage.setItem("profileObj",JSON.stringify(e.profileObj)),p(!0),O(!1)):l("Unauthorised Person"):l("Unable to sign in... Please try again")}catch(n){l("Unable to sign in... Please try again"),console.log(n)}else l("Unable to sign in... Please try again")};return Object(a.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("profileObj"));p(!!e.email),O(!1)}catch(n){p(!1),O(!1)}}),[]),!x&&d?r.a.createElement(i.a,null,r.a.createElement(o.a,{to:"/"})):r.a.createElement(v,null,r.a.createElement(h,null,"Welcome to Chaitanya Communication Billing Software"),r.a.createElement(s.a,{clientId:"61578438734-lgto0d73m13rjpo77b0r8copjednck0o.apps.googleusercontent.com",buttonText:"Login",onSuccess:j,onFailure:j,cookiePolicy:"single_host_origin"}),t&&r.a.createElement(g.a.Text,{type:"danger"},t))},O=(t(161),t(147)),j=t(94),y=t(351);function _(){var e=Object(m.a)(["\nmargin: 0 10px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    max-width: 200px;\n    white-space: nowrap;\n    display: block;\n"]);return _=function(){return e},e}function w(){var e=Object(m.a)(["\ndisplay: flex;\nalign-items: center;\nflex: 1 1;\n& img{\nwidth: 50px;\nheight: 50px;\nborder-radius: 25px;\n}\n"]);return w=function(){return e},e}function S(){var e=Object(m.a)(["\nwidth: 100%;\npadding: 16px;\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nposition: sticky;\ntop: 0;\nbackground: #fff;\nz-index: 1;\nbox-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\n& h5{\nfont-weight: 400;\nfont-size: 20px;\nmargin: 0;\nflex: 1 1 70%;\n}\n"]);return S=function(){return e},e}var I=p.a.header(S()),C=p.a.div(w()),D=p.a.span(_());var k=function(e){var n=e.user,t=e.logout,a=e.title;return r.a.createElement(I,null,r.a.createElement("h5",null,r.a.createElement(i.b,{to:"/"},a)),r.a.createElement(C,null,r.a.createElement("img",{src:n.imageUrl,alt:"avatar"}),r.a.createElement(D,null,n.name),r.a.createElement(O.a,{title:"Logout"},r.a.createElement(j.a,{danger:!0,shape:"circle",icon:r.a.createElement(y.a,null),onClick:t}))))},N=(t(162),t(54)),A=t(50),T=t.n(A);T.a.apps.length||T.a.initializeApp({apiKey:"AIzaSyA6Y8D3pRVWYy5AUCBOR8wfXiIj01rwJn4",authDomain:"ck-mobiles.firebaseapp.com",databaseURL:"https://ck-mobiles.firebaseio.com",projectId:"ck-mobiles",storageBucket:"ck-mobiles.appspot.com",messagingSenderId:"204846129905",appId:"1:204846129905:web:935602ab06d2638fdf7f50",measurementId:"G-K4KV4XVXSN"});var Y=T.a.firestore(),M=t(180),z=t(350),B=t(349),F=t(347),P=t(117),G=t.n(P),J=t(118),U=t.n(J),V=t(119),K=t.n(V),R=t(28),L=t.n(R),X={cc:{title:"Chaithanya Communications",address_line_1:"#15/408-2, Near SBI ATM, Cross Road, Yerraguntla Bypass",address_line_2:"Kamalapuram - 516289, Kadapa Dist., Andhra Pradesh",gstin:"37APBPH9946L1ZB",authoratory:"CHAITANYA COMMUNICATIONS",jurisdiction:"Kamalapuram"},cv:{title:"C.V Agencies",address_line_1:"Near 2nd Gandhi Statue",address_line_2:"Kadapa",gstin:"37HSQPK0054P1ZZ",authoratory:"C.V. AGENCIES",jurisdiction:"Kadapa"}},W=t(120),H=t.n(W);function Q(){var e=Object(m.a)(["\nheight: 60px;\ndisplay: block;\nmargin: auto;\n"]);return Q=function(){return e},e}function Z(){var e=Object(m.a)(["\nwidth: 100%;\nheight: 60px;\n"]);return Z=function(){return e},e}function $(){var e=Object(m.a)(["\nflex: 1 1 50%;\ntext-align: center;\n"]);return $=function(){return e},e}function q(){var e=Object(m.a)(["\nflex: 1 1 50%;\n"]);return q=function(){return e},e}function ee(){var e=Object(m.a)(["\nmargin: 16px 0 4px 0;\nwidth: 100%;\nborder-collapse: collapse;\n& th{\npadding: 8px 16px;\nborder: 1px solid #f6f6f6;\n}\n& td{\npadding: 8px 16px;\nborder: 1px solid #f6f6f6;\n& input{\nmax-width: 150px;\nborder: none;\nborder-bottom: 1px solid;\ntext-align: right;\npadding: 0;\n}\n&:last-child{\ntext-align: right\n}\n"]);return ee=function(){return e},e}function ne(){var e=Object(m.a)(["\nfont-size: 40px;\nfont-weight: 600;\nflex: 1;\ntext-align: center;\npadding: 16px;\n"]);return ne=function(){return e},e}function te(){var e=Object(m.a)(["\nmargin-left: 16px;\n& div{\nwhite-space: nowrap;\n}\n"]);return te=function(){return e},e}function ae(){var e=Object(m.a)(["\nflex: 1 1 10%;\n& img {\nwidth: 100%;\n}\n"]);return ae=function(){return e},e}function re(){var e=Object(m.a)(["\n\n"]);return re=function(){return e},e}function le(){var e=Object(m.a)(["\n\n"]);return le=function(){return e},e}function ce(){var e=Object(m.a)(["\n\n"]);return ce=function(){return e},e}function ie(){var e=Object(m.a)(["\nfont-size: 18px;\ncolor: #000;\n"]);return ie=function(){return e},e}function oe(){var e=Object(m.a)(["\nflex: 1 1 ;\nflex-basis: ",";\n"]);return oe=function(){return e},e}function ue(){var e=Object(m.a)(["\ndisplay: flex;\nflex-direction: ",";\n& p{\nmargin: 0;\nfont-size: 10px;\n}\n"]);return ue=function(){return e},e}function me(){var e=Object(m.a)(["\nwidth: 100%;\nbackground: #fff;\npadding: 32px;\npage-break-inside: avoid;\n@media screen {\nbox-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\n}\n"]);return me=function(){return e},e}var de=p.a.div(me()),se=p.a.div(ue(),(function(e){return e.column?"column":"row"})),fe=p.a.div(oe(),(function(e){return e.lite?"":"70%"})),pe=p.a.div(ie()),ge=p.a.div(ce()),be=p.a.div(le()),Ee=p.a.div(re()),ve=p.a.div(ae()),he=p.a.div(te()),xe=p.a.div(ne()),Oe=p.a.table(ee()),je=p.a.div(q()),ye=p.a.div($()),_e=p.a.div(Z()),we=p.a.img(Q());var Se=function(e){var n=e.invoiceData,t=e.id;return r.a.createElement(de,null,r.a.createElement(se,null,r.a.createElement(fe,null,r.a.createElement(pe,null,X[t].title),r.a.createElement(ge,null,X[t].address_line_1),r.a.createElement(be,null,X[t].address_line_2),r.a.createElement(Ee,null,"GSTIN : ",X[t].gstin)),r.a.createElement(ve,null,r.a.createElement("img",{src:G.a,alt:"logo"}))),r.a.createElement(se,null,r.a.createElement(xe,null,"TAX INVOICE")),r.a.createElement(se,{style:{alignItems:"center"}},r.a.createElement(fe,{lite:!0},r.a.createElement(ge,null,"Bill to :"),r.a.createElement(pe,null,n.buyer_name),r.a.createElement(ge,null,n.address_line_1),r.a.createElement(ge,null,n.address_line_2)),r.a.createElement(he,null,r.a.createElement(ge,null,"Invoice No: ",n.number),r.a.createElement(be,null,"Invoice Date: ",L()(n.invoice_date.toDate()).format("DD-MM-YYYY")))),r.a.createElement(se,null,r.a.createElement(Oe,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"ITEM NAME"),r.a.createElement("th",null,"QTY"),r.a.createElement("th",null,"RATE"),r.a.createElement("th",null,"GST"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,n.item),r.a.createElement("td",null,"1"),r.a.createElement("td",null,n.amount),r.a.createElement("td",null,(.18*n.amount).toFixed(2)," (18%)"),r.a.createElement("td",null,"\u20b9",n.amount)),r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:3,colSpan:3},n.final_amount>0&&U()(n.final_amount)),r.a.createElement("td",{colSpan:2},"CGST ",n.cgst,"%"),r.a.createElement("td",null,(n.amount*n.cgst/100).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"SGST ",n.sgst,"%"),r.a.createElement("td",null,(n.amount*n.sgst/100).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Total"),r.a.createElement("td",null,"\u20b9",n.final_amount))))),r.a.createElement(se,{column:!0},r.a.createElement("p",null,"*Payment should be made by only Cash/Debit"),r.a.createElement("p",null,"*Goods once sold cannot be taken back"),r.a.createElement("p",null,"*Complaints and clarifications will not be entertained after delivery"),r.a.createElement("p",null,"*Subject to ",X[t].jurisdiction," Jurisdiction only. I & O.E.")),r.a.createElement(se,{style:{alignItems:"flex-end",paddingTop:"16px"}},r.a.createElement(je,null,r.a.createElement(_e,null),"Receiver's Signature"),r.a.createElement(ye,null,"For ",X[t].authoratory,r.a.createElement(we,{src:"cc"===t?K.a:H.a,alt:"sign"}),"Authorise Signatory")))};function Ie(){var e=Object(m.a)(["\npadding: 12px;\nmargin: 0 12px;\nborder-bottom: 1px solid #f1f1f1;\ncursor: pointer;\ndisplay: flex;\nbox-shadow: ",";\nbackground-color: ",";\n:hover{\nbox-shadow: 0 0 5px 0 rgba(0,0,0,0.1);\n}\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(m.a)(["\nfont-size: 12px;\nfont-weight: 500;\ncolor: #4c4c4c;\n"]);return Ce=function(){return e},e}function De(){var e=Object(m.a)(["\nfont-size: 16px;\nfont-weight: 600;\ntext-transform: capitalize;\n"]);return De=function(){return e},e}function ke(){var e=Object(m.a)(["\nflex: 1 1 25%;\n:not(:last-child){\nborder-right: 1px solid #e5e5e5;\nmargin-right: 10px;\n}\n"]);return ke=function(){return e},e}function Ne(){var e=Object(m.a)(["\n@media screen{\nwidth: 794px;\nheight: 1123px;\nborder-radius: 4px;\n}\n"]);return Ne=function(){return e},e}function Ae(){var e=Object(m.a)(["\nflex-grow: 1;\nmargin-right: 40px;\npadding: 12px 0;\nbackground: #fff;\n"]);return Ae=function(){return e},e}function Te(){var e=Object(m.a)(["\nmargin: 40px;\ndisplay: flex;\nalign-items: flex-start;\n"]);return Te=function(){return e},e}function Ye(){var e=Object(m.a)(["\nmargin: 40px;\ndisplay: flex;\nalign-items: center;\n&& input{\nflex-basis: 15%;\nmargin-right: 20px;\n}\n"]);return Ye=function(){return e},e}function Me(){var e=Object(m.a)(["\n"]);return Me=function(){return e},e}var ze=p.a.div(Me()),Be=p.a.div(Ye()),Fe=p.a.div(Te()),Pe=p.a.div(Ae()),Ge=p.a.div(Ne()),Je=p.a.div(ke()),Ue=p.a.div(De()),Ve=p.a.div(Ce()),Ke=p.a.div(Ie(),(function(e){return e.selected?"0 0 5px 0 rgba(0,0,0,0.1)":""}),(function(e){return e.selected?"#d2f7f7":""}));var Re=function(e){var n=e.match,t=Object(a.useState)([]),l=Object(u.a)(t,2),c=l[0],i=l[1],o=Object(a.useState)(!0),m=Object(u.a)(o,2),d=m[0],s=m[1],f=Object(a.useState)(void 0),p=Object(u.a)(f,2),g=(p[0],p[1],Object(a.useState)([])),b=Object(u.a)(g,2),E=b[0],v=b[1],h=Object(a.useState)(null),x=Object(u.a)(h,2),O=x[0],y=x[1],_=Object(a.useState)(!1),w=Object(u.a)(_,2),S=w[0],I=w[1],C=Object(a.useState)(10),D=Object(u.a)(C,2),k=D[0],A=D[1];Object(a.useEffect)((function(){T()}),[k]);var T=function(){s(!0),Y.collection("invoices").orderBy("number","desc").where("org","==",n.params.id).limit(k||1).get().then((function(e){y(e.docs[e.docs.length-1]);var n=e.docs.map((function(e){return e.data()}));i(n),s(!1)})).catch((function(e){console.log(e),M.a.error("Invoices loading failed"),I(!1)}))},P=d?"":r.a.createElement("div",{style:{padding:"16px",textAlign:"center"}},r.a.createElement(j.a,{type:"primary",onClick:function(){I(!0),O&&Y.collection("invoices").orderBy("number","desc").where("org","==",n.params.id).limit(k||1).startAfter(O).get().then((function(e){y(e.docs[e.docs.length-1]);var n=e.docs.map((function(e){return e.data()}));i([].concat(Object(N.a)(c),Object(N.a)(n))),I(!1)})).catch((function(e){console.log(e),M.a.error("Invoices loading failed"),I(!1)}))},loading:S},"Load More")," ");return r.a.createElement(ze,null,r.a.createElement(Be,null,r.a.createElement(z.a,{type:"number",value:k,onChange:function(e){A(Number(e.target.value))}}),r.a.createElement(B.a,{indeterminate:E.length>0&&E.length!==c.length,checked:E.length===c.length,onChange:function(){E.length===c.length?v([]):v(Object(N.a)(c))}},"Select All")),r.a.createElement(Fe,null,r.a.createElement(Pe,null,r.a.createElement(F.b,{loading:d,itemLayout:"horizontal",loadMore:P,dataSource:c,renderItem:function(e,n){return r.a.createElement(Ke,{selected:-1!==E.indexOf(e),onClick:function(){return function(e){-1===E.indexOf(c[e])?v([].concat(Object(N.a)(E),[c[e]])):(E.splice(E.indexOf(c[e]),1),v(Object(N.a)(E)))}(n)}},r.a.createElement(Je,null,r.a.createElement(Ve,null,"Invoice No."),r.a.createElement(Ue,null,e.number)),r.a.createElement(Je,null,r.a.createElement(Ue,null,e.buyer_name),r.a.createElement(Ve,null,L()(e.invoice_date.toDate()).format("DD-MM-YYYY"))),r.a.createElement(Je,null,r.a.createElement(Ve,null,"Invoice Amount"),r.a.createElement(Ue,null,"\u20b9",e.final_amount)))}})),E.length>0&&r.a.createElement(Ge,{id:"printarea"},E.map((function(e){return r.a.createElement(Se,{invoiceData:e,id:n.params.id})})))))};function Le(){var e=Object(m.a)(["\nmargin: ",";\njustify-content: center;\ndisplay: flex;\n& a{\nmargin: 10px;\n}\n"]);return Le=function(){return e},e}var Xe=p.a.div(Le(),(function(e){return e.active?"100px 0":"30px 0 20px 0"}));var We=function(e){e.match;var n=Object(a.useState)(!1),t=Object(u.a)(n,2),l=t[0],c=t[1],i=Object(a.useState)(!0),m=Object(u.a)(i,2),d=m[0],s=m[1],f=Object(a.useState)({}),p=Object(u.a)(f,2),g=p[0],b=p[1];return Object(a.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("profileObj"));b(e),c(!!e.email),s(!1)}catch(n){c(!1),s(!1)}}),[]),d||l?r.a.createElement("div",{className:"App"},r.a.createElement(k,{user:g,logout:function(){localStorage.removeItem("profileObj"),c(!1)}}),r.a.createElement(Xe,null,r.a.createElement(j.a,{type:"primary",href:"#/cv"},"CV Agencies"),r.a.createElement(j.a,{type:"primary",href:"#/cc"},"Chaitanya Communications"))):r.a.createElement(o.a,{to:"/login"})},He=(t(335),t(51)),Qe=t(41),Ze=t(346);function $e(){var e=Object(m.a)(["\nmargin: 16px 0;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n& button{\nmargin: 0 10px;\n}\n"]);return $e=function(){return e},e}function qe(){var e=Object(m.a)(["\nheight: 60px;\ndisplay: block;\nmargin: auto;\n"]);return qe=function(){return e},e}function en(){var e=Object(m.a)(["\nwidth: 100%;\nheight: 60px;\n"]);return en=function(){return e},e}function nn(){var e=Object(m.a)(["\nflex: 1 1 50%;\ntext-align: center;\n"]);return nn=function(){return e},e}function tn(){var e=Object(m.a)(["\nflex: 1 1 50%;\n"]);return tn=function(){return e},e}function an(){var e=Object(m.a)(["\nmargin: 16px 0 4px 0;\nwidth: 100%;\nborder-collapse: collapse;\n& th{\npadding: 8px 16px;\nborder: 1px solid #f6f6f6;\n}\n& td{\npadding: 8px 16px;\nborder: 1px solid #f6f6f6;\n& input{\nmax-width: 150px;\nborder: none;\nborder-bottom: 1px solid;\ntext-align: right;\npadding: 0;\n}\n&:last-child{\ntext-align: right\n}\n"]);return an=function(){return e},e}function rn(){var e=Object(m.a)(["\nfont-size: 40px;\nfont-weight: 600;\nflex: 1;\ntext-align: center;\npadding: 16px;\n"]);return rn=function(){return e},e}function ln(){var e=Object(m.a)(["\nmargin-left: 16px;\n& div{\nwhite-space: nowrap;\n}\n"]);return ln=function(){return e},e}function cn(){var e=Object(m.a)(["\nflex: 1 1 10%;\n& img {\nwidth: 100%;\n}\n"]);return cn=function(){return e},e}function on(){var e=Object(m.a)(["\n\n"]);return on=function(){return e},e}function un(){var e=Object(m.a)(["\n\n"]);return un=function(){return e},e}function mn(){var e=Object(m.a)(["\n\n"]);return mn=function(){return e},e}function dn(){var e=Object(m.a)(["\nfont-size: 18px;\ncolor: #000;\n"]);return dn=function(){return e},e}function sn(){var e=Object(m.a)(["\nflex: 1 1 ;\nflex-basis: ",";\n"]);return sn=function(){return e},e}function fn(){var e=Object(m.a)(["\ndisplay: flex;\nflex-direction: ",";\n& p{\nmargin: 0;\nfont-size: 10px;\n}\n"]);return fn=function(){return e},e}function pn(){var e=Object(m.a)(["\nwidth: 100%;\nmax-width: 720px;\nmargin: 20px auto;\nbackground: #fff;\npadding: 32px;\n@media screen {\nbox-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\n}\n"]);return pn=function(){return e},e}var gn=p.a.div(pn()),bn=p.a.div(fn(),(function(e){return e.column?"column":"row"})),En=p.a.div(sn(),(function(e){return e.lite?"":"70%"})),vn=p.a.div(dn()),hn=p.a.div(mn()),xn=p.a.div(un()),On=p.a.div(on()),jn=p.a.div(cn()),yn=p.a.div(ln()),_n=p.a.div(rn()),wn=p.a.table(an()),Sn=p.a.div(tn()),In=p.a.div(nn()),Cn=p.a.div(en()),Dn=p.a.img(qe()),kn=p.a.div($e());var Nn=function(e){var n=e.match,t=Object(a.useState)({}),l=Object(u.a)(t,2),c=(l[0],l[1],Object(a.useState)([])),i=Object(u.a)(c,2),o=i[0],m=i[1],d=Object(a.useState)({buyer_name:"",created_at:L()(new Date),cgst:9,sgst:9,final_amount:0,item:"JIO ETOP",amount:0,invoice_date:L()(new Date),number:1,gst:"",address_line_1:"",address_line_2:""}),s=Object(u.a)(d,2),f=s[0],p=s[1],g=Object(a.useState)(!1),b=Object(u.a)(g,2),E=b[0],v=b[1];Object(a.useEffect)((function(){Y.collection("invoices").orderBy("created_at","desc").where("org","==",n.params.id).limit(1).get().then((function(e){var n=e.docs.map((function(e){return e.data()}));m(n)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){o[o.length-1]&&p({buyer_name:"",created_at:L()(new Date),cgst:9,sgst:9,final_amount:0,item:"JIO ETOP",amount:0,invoice_date:L()(new Date),gst:"",address_line_1:"",address_line_2:"",number:o[o.length-1].number+1,org:n.params.id})}),[o]);var h=function(e,n){var t;if("amount"===e&&Number(n))p(Object(Qe.a)(Object(Qe.a)({},f),{},(t={},Object(He.a)(t,e,Number(n)),Object(He.a)(t,"final_amount",parseFloat((Number(n)+Number(n*f.sgst/100)+Number(n*f.cgst/100)).toFixed(2))),t)));else if("final_amount"===e&&Number(n)){var a;p(Object(Qe.a)(Object(Qe.a)({},f),{},(a={},Object(He.a)(a,e,Number(n)),Object(He.a)(a,"amount",parseFloat((Number(n)/(1+Number(f.sgst/100)+Number(f.cgst/100))).toFixed(2))),a)))}else p(Object(Qe.a)(Object(Qe.a)({},f),{},Object(He.a)({},e,n)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{id:"printarea"},r.a.createElement(bn,null,r.a.createElement(En,null,r.a.createElement(vn,null,X[n.params.id].title),r.a.createElement(hn,null,X[n.params.id].address_line_1),r.a.createElement(xn,null,X[n.params.id].address_line_2),r.a.createElement(On,null,"GSTIN : ",X[n.params.id].gstin)),r.a.createElement(jn,null,r.a.createElement("img",{src:G.a,alt:"logo"}))),r.a.createElement(bn,null,r.a.createElement(_n,null,"TAX INVOICE")),r.a.createElement(bn,{style:{alignItems:"center"}},r.a.createElement(En,{lite:!0},r.a.createElement(hn,null,"Bill to :"),r.a.createElement(vn,null,r.a.createElement(z.a,{name:"party_name",autoComplete:"party_name",placeholder:"Enter Name here",value:f.buyer_name,onChange:function(e){return h("buyer_name",e.target.value)}})),r.a.createElement(hn,null,r.a.createElement(z.a,{name:"address_line1",autoComplete:"address_line1",placeholder:"Enter Address",value:f.address_line_1,onChange:function(e){return h("address_line_1",e.target.value)}}))),r.a.createElement(yn,null,r.a.createElement(hn,null,"Invoice No: ",f.number),r.a.createElement(xn,null,"Invoice Date: ",r.a.createElement(Ze.a,{format:"DD-MM-YYYY",onChange:function(e){return h("invoice_date",e)},defaultvalue:f.invoice_date})))),r.a.createElement(bn,null,r.a.createElement(wn,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"ITEM NAME"),r.a.createElement("th",null,"QTY"),r.a.createElement("th",null,"RATE"),r.a.createElement("th",null,"GST"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,f.item),r.a.createElement("td",null,"1"),r.a.createElement("td",null,f.amount),r.a.createElement("td",null,(.18*f.amount).toFixed(2)," (18%)"),r.a.createElement("td",null,r.a.createElement(z.a,{value:f.amount,name:"invoice_amount",onChange:function(e){return h("amount",e.target.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:3,colSpan:3},f.final_amount>0&&U()(f.final_amount)),r.a.createElement("td",{colSpan:2},"CGST ",f.cgst,"%"),r.a.createElement("td",null,(f.amount*f.cgst/100).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"SGST ",f.sgst,"%"),r.a.createElement("td",null,(f.amount*f.sgst/100).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Total"),r.a.createElement("td",null,r.a.createElement(z.a,{value:f.final_amount,name:"final_amount",onChange:function(e){return h("final_amount",e.target.value)}})))))),r.a.createElement(bn,{column:!0},r.a.createElement("p",null,"*Payment should be made by only Cash/Debit"),r.a.createElement("p",null,"*Goods once sold cannot be taken back"),r.a.createElement("p",null,"*Complaints and clarifications will not be entertained after delivery"),r.a.createElement("p",null,"*Subject to ",X[n.params.id].jurisdiction," Jurisdiction only. I & O.E.")),r.a.createElement(bn,{style:{alignItems:"flex-end",paddingTop:"16px"}},r.a.createElement(Sn,null,r.a.createElement(Cn,null),"Receiver's Signature"),r.a.createElement(In,null,"For ",X[n.params.id].authoratory,r.a.createElement(Dn,{src:"cc"===n.params.id?K.a:H.a,alt:"sign"}),"Authorise Signatory"))),r.a.createElement(kn,null,r.a.createElement(j.a,{type:"primary",loading:E,onClick:function(){v(!0),M.a.loading("Saving Invoice..."),Y.collection("invoices").add(Object(Qe.a)(Object(Qe.a)({},f),{},{created_at:T.a.firestore.Timestamp.fromDate(new Date),invoice_date:T.a.firestore.Timestamp.fromDate(new Date(f.invoice_date))})).then((function(e){console.log(e),v(!1),m([Object(Qe.a)({},f)]),M.a.success("Invoice Save...")})).catch((function(e){M.a.error("Invoice Failed"),console.log(e),v(!1)}))}},"Save"),r.a.createElement(j.a,{danger:!0},"Reset")))},An=t(353),Tn=t(352);function Yn(){var e=Object(m.a)(["\nwidth: 100%;\nbackground: #fff;\nposition: sticky;\nbottom: 0;\npadding: 10px;\ntext-align: center;\n"]);return Yn=function(){return e},e}function Mn(){var e=Object(m.a)(["\npadding: 12px;\nmargin: 0 12px;\nborder-bottom: 1px solid #f1f1f1;\ncursor: pointer;\ndisplay: flex;\nbox-shadow: ",";\nbackground-color: ",";\n:hover{\nbox-shadow: 0 0 5px 0 rgba(0,0,0,0.1);\n}\n"]);return Mn=function(){return e},e}function zn(){var e=Object(m.a)(["\nfont-size: 12px;\nfont-weight: 500;\ncolor: #4c4c4c;\n"]);return zn=function(){return e},e}function Bn(){var e=Object(m.a)(["\nfont-size: 16px;\nfont-weight: 600;\ntext-transform: capitalize;\n"]);return Bn=function(){return e},e}function Fn(){var e=Object(m.a)(["\nflex: 1 1 25%;\n:not(:last-child){\nborder-right: 1px solid #e5e5e5;\nmargin-right: 10px;\n}\n"]);return Fn=function(){return e},e}function Pn(){var e=Object(m.a)(["\nflex-grow: 1;\npadding: 12px 0;\nbackground: #fff;\n"]);return Pn=function(){return e},e}function Gn(){var e=Object(m.a)(["\nmargin: 20px 0;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n"]);return Gn=function(){return e},e}function Jn(){var e=Object(m.a)(["\nmargin: 40px;\ndisplay: flex;\nalign-items: stretch;\njustify-content: stretch;\nflex-direction: column;\n"]);return Jn=function(){return e},e}var Un=p.a.div(Jn()),Vn=p.a.div(Gn()),Kn=p.a.div(Pn()),Rn=p.a.div(Fn()),Ln=p.a.div(Bn()),Xn=p.a.div(zn()),Wn=p.a.div(Mn(),(function(e){return e.selected?"0 0 5px 0 rgba(0,0,0,0.1)":""}),(function(e){return e.selected?"#d2f7f7":""})),Hn=p.a.div(Yn());var Qn=function(e){var n=e.match,t=Object(a.useState)({invoice_count:0,from_date:new Date,to_date:new Date}),l=Object(u.a)(t,2),c=l[0],m=l[1],d=Object(a.useState)(null),s=Object(u.a)(d,2),f=s[0],p=s[1],g=Object(a.useState)(!0),b=Object(u.a)(g,2),E=b[0],v=b[1],h=Object(a.useState)([]),x=Object(u.a)(h,2),O=x[0],y=x[1],_=Object(a.useState)([]),w=Object(u.a)(_,2),S=w[0],I=w[1],C=Object(a.useState)(!1),D=Object(u.a)(C,2),k=D[0],A=D[1],B=Object(a.useState)(0),P=Object(u.a)(B,2),G=P[0],J=P[1],U=function(e,n){m(Object(Qe.a)(Object(Qe.a)({},c),{},Object(He.a)({},e,n)))};Object(a.useEffect)((function(){Y.collection("invoices").orderBy("number","desc").where("org","==",n.params.id).limit(1).get().then((function(e){p(e.docs[e.docs.length-1]);var n=e.docs.map((function(e){return e.data()}));p(n[n.length-1]),v(!1),y(n)})).catch((function(e){console.log(e),M.a.error("Invoices loading failed"),v(!1)}))}),[]);var V=function(e,n){var t=new Date(e),a=new Date(n);return Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))/864e5)};return G>0&&G===S.length?r.a.createElement(i.a,null,r.a.createElement(o.a,{to:"/".concat(n.params.id,"/list")})):r.a.createElement(Un,null,r.a.createElement(Vn,null,r.a.createElement(z.a,{type:"number",name:"invoice_count",placeholder:"Invoice Count",onChange:function(e){return U("invoice_count",Number(e.target.value))}}),r.a.createElement(Ze.a,{format:"DD-MM-YYYY",onChange:function(e){return U("from_date",e)},defaultvalue:c.invoice_date}),r.a.createElement(Ze.a,{format:"DD-MM-YYYY",onChange:function(e){return U("to_date",e)},defaultvalue:c.to_date}),r.a.createElement(j.a,{type:"primary",onClick:function(){var e=V(c.from_date,c.to_date)+1,t=c.invoice_count;v(!0),Y.collection("invoices").orderBy("number","asc").where("org","==",n.params.id).limit(c.invoice_count).get().then((function(a){var r=a.docs.map((function(e){return e.data()})),l=new Date(c.from_date),i=0;console.log(r);var o=Math.floor(t/e),u=!0;if(r[0]){var m=f.number;r=r.map((function(a){return m++,i===o&&(i=0,l.setDate(l.getDate()+1),e=V(l,c.to_date)+1,o=1===e?t:u?Math.ceil(t/e):Math.floor(t/e),u=!u),i++,t--,console.log(i,o,e,t),{buyer_name:a.buyer_name,created_at:T.a.firestore.Timestamp.fromDate(new Date),cgst:9,sgst:9,final_amount:15e3,item:"JIO ETOP",amount:12711.86,invoice_date:T.a.firestore.Timestamp.fromDate(new Date(l)),gst:"",address_line_1:a.address_line_1,address_line_2:a.address_line_2,number:m,org:n.params.id}}))}y([f].concat(Object(N.a)(r))),I(Object(N.a)(r)),v(!1),console.log(r)}))}},"Preview")),r.a.createElement(Kn,null,r.a.createElement(F.b,{loading:E,itemLayout:"horizontal",dataSource:O,renderItem:function(e,n){return r.a.createElement(Wn,null,r.a.createElement(Rn,null,r.a.createElement(Xn,null,"Invoice No."),r.a.createElement(Ln,null,e.number)),r.a.createElement(Rn,null,r.a.createElement(Ln,null,e.buyer_name),r.a.createElement(Xn,null,L()(e.invoice_date.toDate()).format("DD-MM-YYYY"))),r.a.createElement(Rn,null,r.a.createElement(Xn,null,"Invoice Amount"),r.a.createElement(Ln,null,"\u20b9",e.final_amount)))}}),S.length>0&&r.a.createElement(Hn,null,r.a.createElement(j.a,{type:"primary",loading:k,onClick:function(){if(S.length>0){A(!0),console.log(S);var e=0;S.forEach((function(n){Y.collection("invoices").add(n).then((function(n){e++,J(e)}))}))}}},k?"".concat(G,"/").concat(S.length):"Save"))))};function Zn(){var e=Object(m.a)(["\nmargin: ",";\njustify-content: center;\ndisplay: flex;\n& a{\nmargin: 10px;\n}\n"]);return Zn=function(){return e},e}var $n=p.a.div(Zn(),(function(e){return e.active?"100px 0":"30px 0 20px 0"}));var qn=function(e){var n=e.match,t=Object(a.useState)(!1),l=Object(u.a)(t,2),c=l[0],m=l[1],d=Object(a.useState)(!0),s=Object(u.a)(d,2),f=s[0],p=s[1],g=Object(a.useState)({}),b=Object(u.a)(g,2),E=b[0],v=b[1];return Object(a.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("profileObj"));v(e),m(!!e.email),p(!1)}catch(n){m(!1),p(!1)}}),[]),f||c?r.a.createElement("div",{className:"App"},r.a.createElement(k,{user:E,logout:function(){localStorage.removeItem("profileObj"),m(!1)},title:"cv"===n.params.id?"CV Agencies":"Chaithanya Communications"}),r.a.createElement($n,{active:n.isExact},r.a.createElement(j.a,{type:"primary",href:"#/".concat(n.params.id,"/create"),icon:r.a.createElement(An.a,null)},"New Invoice"),r.a.createElement(j.a,{type:"primary",href:"#/".concat(n.params.id,"/list"),icon:r.a.createElement(Tn.a,null)},"View Invoices List"),r.a.createElement(j.a,{type:"primary",href:"#/".concat(n.params.id,"/auto"),icon:r.a.createElement(Tn.a,null)},"Auto Generate Bills")),r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/:id/create",component:Nn}),r.a.createElement(o.b,{path:"/:id/list",component:Re}),r.a.createElement(o.b,{path:"/:id/auto",component:Qn})))):r.a.createElement(o.a,{to:"/login"})};var et=function(){return r.a.createElement(i.a,null,r.a.createElement(o.b,{exact:!0,path:"/",component:We}),r.a.createElement(o.b,{path:"/:id(cv|cc)/",component:qn}),r.a.createElement(o.b,{path:"/login",component:x}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.0a25441d.chunk.js.map